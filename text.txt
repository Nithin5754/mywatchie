const mailGenerator = new Mailgen({
      theme: 'default',
      product: {
        name: 'MYWACHIE.COM',
        link: 'https://mailgen.js',
        table: {
          data: [
            {
              sub: 'your password',
              des: 'change your password',
              pin: '2345',
            },
          ],
        },
      },
    });

    const otp = generateOTP(6);
    console.log('Generated OTP:', otp);
    const Email = {
      body: {
        name: username,
        intro: 'Welcome to myWatchie.com here is your OTP .',
        outro: `opt :${otp} expire in 15 m`,
      },
    };

    const emailTemplate = mailGenerator.generate(Email);
    const transporter = nodemailer.createTransport({
      service: 'gmail',
      auth: {
        user: 'nithinjoji0756@gmail.com',
        pass: 'ccqm fuaa azqh ewrv',
      },
    });

    const mailOptions = {
      from: 'nithinjoji0756@gmail.com',
      to: email,
      subject: 'Welcome to MyApp - Activate Your Account',
      html: emailTemplate,
    };

    try {
      await transporter.sendMail(mailOptions);
      // User signup successful; send a response
      return res.redirect('/login');
    } catch (error) {
      // Handle errors and send an error response
      console.error('Error sending email:', error);
      return res.status(500).send('Error sending email. Please try again later.');
    }